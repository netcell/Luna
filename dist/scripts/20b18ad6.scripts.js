"use strict";angular.module("lunaApp",["ngCookies","ngRoute","ngAnimate","monospaced.elastic"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/home.html"}).when("/quick-create",{templateUrl:"views/quick-create.html",controller:"QuickcreateCtrl"}).when("/under-construction",{templateUrl:"views/under-construction.html"}).when("/create",{templateUrl:"views/create.html",controller:"CreateCtrl"}).when("/confirmation-sent",{templateUrl:"views/confirm-sent.html",controller:"CreateCtrl"}).when("/account-over-used",{templateUrl:"views/account-over-used.html",controller:"CreateCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("lunaApp").controller("MainCtrl",["$scope",function(){}]),angular.module("lunaApp").directive("appDirective",function(){return{restrict:"A",link:function(a,b){var c=$(b[0]),d=c.find(".time"),e=c.find(".module");a.$watch("grid.value",function(){console.log(a.grid.value),1==a.grid.value?(d.removeClass("full-left"),e.removeClass("full-left"),d.removeClass("near-left"),e.removeClass("near-left")):3==a.grid.value?(d.removeClass("full-left"),e.removeClass("full-left"),d.addClass("near-left"),e.addClass("near-left")):(d.addClass("full-left"),e.addClass("full-left"))})}}}),angular.module("lunaApp").directive("textarea",function(){return{restrict:"E",link:function(a,b){b.focus()}}}),angular.module("lunaApp").directive("quickCreateHome",["$window","$location",function(a,b){return{restrict:"C",link:function(c,d){d.find("textarea").blur(function(a){$(a.currentTarget).focus()});var e=function(c){switch(c.keyCode){case 27:a.removeEventListener("keydown",e),a.history.back();break;case 13:a.removeEventListener("keydown",e),b.path("/")}};a.addEventListener("keydown",e),d.bind("$destroy",function(){a.removeEventListener("keydown",e)})}}}]),angular.module("lunaApp").controller("QuickcreateCtrl",["$scope",function(a){a.input}]),angular.module("lunaApp").controller("LoadingscreenCtrl",["$scope","$http","$q","$timeout",function(a,b,c){{var d=b.get("fonts/SourceSansPro-ExtraLight.ttf"),e=b.get("fonts/SourceSansPro-Light.ttf"),f=b.get("fonts/SourceSansPro-Semibold.ttf");b.get("dynamic/loading.css"),b.get("https://dl.dropboxusercontent.com/u/12656349/2393e39d.logo.png")}c.all([d,e,f]).then(function(){$("head").append($("<link rel='stylesheet' href='dynamic/loading.css' type='text/css' media='screen' />")),a.loading.value=!1})}]),angular.module("lunaApp").directive("moduleContent",function(){return{restrict:"C",link:function(a,b,c){a.grid.value=c.grid}}}),angular.module("lunaApp").directive("afterLoading",function(){return{restrict:"C",link:function(a,b){b.removeClass("hidden")}}}),angular.module("lunaApp").controller("CreateCtrl",["$scope",function(a){a.form={},a.selection={},a.options={};var b=[[{value:"sáng",index:0},{value:"chiều",index:1}],[{value:"sáng",index:0},{value:"tối",index:1}],[{value:"trưa",index:0},{value:"đêm",index:1}]];a.options.hours=[{value:"01",periods:0},{value:"02",periods:0},{value:"03",periods:0},{value:"04",periods:0},{value:"05",periods:0},{value:"06",periods:0},{value:"07",periods:1},{value:"08",periods:1},{value:"09",periods:1},{value:"10",periods:1},{value:"11",periods:2},{value:"12",periods:2}],a.options.months=[{value:"giêng",index:0},{value:"hai",index:1},{value:"ba",index:2},{value:"bốn",index:3},{value:"năm",index:4},{value:"sáu",index:5},{value:"bảy",index:6},{value:"tám",index:7},{value:"chín",index:8},{value:"mười",index:9},{value:"mười một",index:10},{value:"chạp",index:11}],a.options.repeats=[{value:"ngày",index:0},{value:"tháng",index:1},{value:"năm",index:2}],a.options.minutes=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],a.options.dates=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"];var c=a.options.hours[0];a.selection.hour=c,a.selection.minute=a.options.minutes[0],a.selection.period=b[c.periods][0],a.selection.date=a.options.dates[0],a.selection.month=a.options.months[0],a.selection.repeat=a.options.repeats[0],a.$watch("selection.hour",function(c){var d=a.selection.period.index;a.options.periods=b[c.periods],a.selection.period=a.options.periods[d]})}]),angular.module("lunaApp").directive("create",function(){return{restrict:"A",link:function(a,b){a.$watch("selection.repeat",function(a){switch(a.index){case 0:b.find("#create-date").prop("disabled","disabled"),b.find("#create-month").prop("disabled","disabled"),b.find("#create-date,#create-date-label,#create-month,#create-month-label").addClass("disabled");break;case 1:b.find("#create-date").prop("disabled",!1),b.find("#create-month").prop("disabled","disabled"),b.find("#create-month,#create-month-label").addClass("disabled"),b.find("#create-date,#create-date-label").removeClass("disabled");break;case 2:b.find("#create-date").prop("disabled",!1),b.find("#create-month").prop("disabled",!1),b.find("#create-date,#create-date-label,#create-month,#create-month-label").removeClass("disabled")}})}}});